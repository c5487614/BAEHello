<!DOCTYPE html>
<html>
	<head>
		<title>hb10086</title>
		<script type="text/javascript" src="ext/ext-base.js"></script>
    	<script type="text/javascript" src="ext/ext-all-debug.js"></script>
		<script>
		
		
		function pre_login(){
			Ext.Ajax.request({
				url : 'sp/hbpreLogin.do',
				params : {
					userId : document.getElementById('tbox_userName').value,
					password : document.getElementById('tbox_password').value,
					random : document.getElementById('tbox_random').value,
					jsessionid1 : document.getElementById('tbox_session').value,
					CW7YGvVXmx : document.getElementById('tbox_CW7YGvVXmx').value
				},
				success : function(response,option){
					var json = Ext.util.JSON.decode(response.responseText);
					document.getElementById('tbox_session').value = json.jsessionid1;
					document.getElementById('tbox_CW7YGvVXmx').value = json.CW7YGvVXmx;
					//cp.set('jsessionid1',json.jsessionid1);
					//cp.set('CW7YGvVXmx',json.CW7YGvVXmx);
				},
				failure : function(){
					alert('wrong1!');
				}
			})
		}
		function login(){
			Ext.Ajax.request({
				url : 'sp/hbLogin.do',
				params : {
					userId : document.getElementById('tbox_userName').value,
					password : document.getElementById('tbox_password').value,
					random : document.getElementById('tbox_random').value
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function refreshImg(){
			document.getElementById("imgRand").src = "https://hb.ac.10086.cn/SSO/img?codeType=0&rand=" + new Date().getTime()
		}
		function action(){
			Ext.Ajax.request({
				url : 'sp/hbAction.do',
				params : {
					method : 'get',
					url : document.getElementById('tbox_url').value,
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function goLottery(){
			Ext.Ajax.request({
				url : 'sp/hbAction.do',
				params : {
					method : 'post',
					url : 'http://www.hb.10086.cn/service/lottery/lottery/drawLottery.action',
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function feixinLogin(){
			Ext.Ajax.request({
				url : 'sp/feixinLogin.do',
				params : {
					random : document.getElementById('tbox_feixin_random').value,
					ccpSession : document.getElementById('tbox_feixin_ccpsession').value
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function cmcciLearnLogin(){
			Ext.Ajax.request({
				url : 'sp/cmcciLearnLogin.do',
				params : {
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function cmccOpenClass(){
			Ext.Ajax.request({
				url : 'sp/cmccOpenClass.do',
				params : {
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function cmccCloseClass(){
			Ext.Ajax.request({
				url : 'sp/cmccCloseClass.do',
				params : {
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		
		function cmccLogout(){
			Ext.Ajax.request({
				url : 'sp/cmccLogout.do',
				params : {
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		function cmccGetUserInfo(){
			Ext.Ajax.request({
				url : 'sp/cmccGetUserInfo.do',
				params : {
				},
				success : function(response,option){
					alert(response.responseText);
				},
				failure : function(){
					alert('wrong!');
				}
			})
		}
		</script>
	</head>
	<body>
		<div>
			User Name :
			<input type="text" value="13627110845" id="tbox_userName" />
		</div>
		<div>
			Password :
			<input type="password" value="648500" id="tbox_password" />
		</div>
		<div>
			Session :
			<input style="width:300px" type="text" value="" id="tbox_session" />
		</div>
		<div>
			CW7YGvVXmx :
			<input style="width:300px" type="text" value="" id="tbox_CW7YGvVXmx" />
			<input type="button" value="pre_login" onclick="pre_login();" />
		</div>
		<input type="text" value="" id="tbox_random" />
		<!---->
		<img id="imgRand" src="https://hb.ac.10086.cn/SSO/img?codeType=0&rand=1386920369737" alt="" />
		<input type="button" value="refresh" onclick="refreshImg();" />
		
		<div>
			<input type="button" value="login" onclick="login();" />
		</div>
		
		<div>
			action :
			<input style="width:300px" type="text" value="http://www.hb.10086.cn/service/lottery/lottery/drawLottery.action" id="tbox_url" />
			<input type="button" value="go" onclick="action();" />
		</div>
		<div>
			<input type="button" value="go Lottery" onclick="goLottery();" />
		</div>
		
		<div>
			<hr />
		</div>
		
		<div>
			<input type="text" value="" id="tbox_feixin_random" />
			<img id="imgRand_feixin" src="https://webim.feixin.10086.cn/WebIM/GetPicCode.aspx?Type=ccpsession&0.43605703340982094" alt="" />
		</div>
		<div>
			ccpsession : 
			<input type="text" value="" id="tbox_feixin_ccpsession" />
		</div>
		<div>
			<input type="button" value="feixin Login" onclick="feixinLogin();" />
		</div>
		
		<div>
			<hr />
			ilearn
		</div>
		<div>
			<input type="button" value="CMCC Login" onclick="cmcciLearnLogin();" />
			<input type="button" value="CMCC UserInfo" onclick="cmccGetUserInfo();" />
			<input type="button" value="Open Class" onclick="cmccOpenClass();" />
			<input type="button" value="Close Class" onclick="cmccCloseClass();" />
			
			<input type="button" value="CMCC Logout" onclick="cmccLogout();" />
		</div>
		
		<div id="div_main">
		
		</div>
	</body>
</html>